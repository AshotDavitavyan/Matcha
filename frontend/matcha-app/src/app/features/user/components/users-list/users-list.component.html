<!-- Loading State -->
@if (loading()) {
  <div class="p-4 text-sm text-gray-500">Loading users...</div>
}

<!-- Error State -->
@if (error()) {
  <div class="p-4 text-sm text-red-600">{{ error() }}</div>
}

<!-- Users List -->
@if (!loading() && !error()) {
  @if (users().length === 0) {
    <div class="p-4 text-sm text-gray-500">No users found.</div>
  } @else {
    <div class="flex flex-col gap-3 p-4">
      @for (user of users(); track user.id) {
        <div class="rounded border p-3">
          <div class="font-medium text-blue-700 hover:underline">
            <a [routerLink]="['/users', user.id]">
              {{ user.username }}
            </a>
          </div>
          <div class="text-sm text-gray-700">
            <div *ngIf="user.firstName || user.lastName">Name: {{ user.firstName || '' }} {{ user.lastName || '' }}</div>
            <div *ngIf="user.email">Email: {{ user.email }}</div>
            <div class="text-xs text-gray-500">ID: {{ user.id }}</div>
          </div>
        </div>
      }
    </div>
  }
}
